(this["webpackJsonpbio-align"]=this["webpackJsonpbio-align"]||[]).push([[0],{157:function(t,e,n){},166:function(t,e,n){"use strict";n.r(e);var i=n(0),r=n.n(i),a=n(26),s=n.n(a),l=(n(157),n(243)),c=n(242),o=n(248),h=n(121),u=n.n(h),g=n(247),d=n(225),b=n(244),f=n(2);function j(t){return x.paper.backgroundColor=t.backgroundColor,Object(f.jsx)(b.a,{sx:x.paper,children:t.children})}const x={paper:{p:1,width:50,height:50,mr:2,mb:2,alignItems:"center",display:"flex",justifyContent:"center"}};function p(t){return Object(f.jsx)(j,{backgroundColor:d.a.A100,children:Object(f.jsx)(g.a,{sx:{fontWeight:"bold"},children:t.letter})})}var m=n(22),O=n(103),S=n.n(O),v=n(119),W=n.n(v),w=n(118),y=n(226);const k=w.a.A100,C=y.a.A200;function M(t){const e=t.cell,n=function(t){const e=Math.abs(t);if(e>=100)return 14;if(e>=10)return 16;return 20}(e.value),i=e.isPath?C:k;return Object(f.jsx)(j,{backgroundColor:i,children:Object(f.jsxs)(c.a,{sx:F.boxNumber,children:[Object(f.jsx)(S.a,{sx:Object(m.a)(Object(m.a)({transform:"rotate(-45deg)"},F.arrow),{},{visibility:A(e.diag)})}),Object(f.jsx)(S.a,{sx:Object(m.a)(Object(m.a)({},F.arrow),{},{visibility:A(e.top)})}),Object(f.jsx)(W.a,{sx:Object(m.a)(Object(m.a)({},F.arrow),{},{visibility:A(e.left)})}),Object(f.jsx)(g.a,{sx:Object(m.a)({fontSize:n},F.number),children:e.value})]})})}function A(t){return t?"visible":"hidden"}const F={boxNumber:{display:"flex",justifyContent:"space-around",flexWrap:"wrap"},number:{fontWeight:"bold"},arrow:{fontSize:24}};var I=n(81);var P={initialize:function(t,e,n,i){t[0]=[{value:0}];for(let r=1;r<n;r++){let e=t[0][r-1].value+i;t[0].push({value:e,left:!0})}for(let r=1;r<e;r++){t[r]=[];let e=t[r-1][0].value+i;t[r].push({value:e,top:!0})}return t},initializeWithZero:function(t,e,n){t[0]=[{value:0}];for(let i=1;i<n;i++)t[0].push({value:0});for(let i=1;i<e;i++)t[i]=[],t[i].push({value:0});return t},traceback:function(t){let e=t.length-1,n=t[0].length-1;for(;0!==e||0!==n;)t[e][n].isPath=!0,t[e][n].diag?(e--,n--):t[e][n].left?n--:e--;return t[e][n].isPath=!0,t},tracebackToZero:function(t,e,n){for(;0!==t[e][n].value&&0!==e&&0!==n;)t[e][n].isPath=!0,t[e][n].diag?(e--,n--):t[e][n].left?n--:e--;return t},findMaxIndex:function(t,e){let n=0,i=0;for(let r=1;r<t.length;r++){for(let a=1;a<t[0].length;a++)if(t[r][a].value===e){n=r,i=a;break}if(0!==n)break}return{row:n,col:i}},generatePrintableTable:function(t){let e="";if(0===t.length)return"No data";for(let n=0;n<t.length;n++){for(let i=0;i<t[0].length;i++)e+=t[n][i].value+" ";e+="\n"}return e}};const T={stringsMatch:function(t,e){let n,i;const r="-"+t.firstString,a="-"+t.secondString;for(let l=1;l<r.length;l++)for(let t=1;t<a.length;t++)e[l][t].isPath&&(n=l,i=t);let s={firstString:"",secondString:"",score:e[n][i].value};for(;n>0&&i>0&&e[n][i].isPath;){const t=e[n][i];t.diag||0===n&&0===i||!t.left&&!t.top?(s.firstString=r[n]+s.firstString,s.secondString=a[i]+s.secondString,n--,i--):t.left?(s.firstString="-"+s.firstString,s.secondString=a[i]+s.secondString,i--):(s.firstString=r[n]+s.firstString,s.secondString="-"+s.secondString,n--)}for(;n>0&&e[n][i].isPath;)s.firstString=r[n]+s.firstString,s.secondString="-"+s.secondString,n--;for(;i>0&&e[n][i].isPath;)s.firstString="-"+s.firstString,s.secondString=a[i]+s.secondString,i--;return s},algorithms:[{label:"Levenshtein distance",calculate:function(t){let e=[],n="-"+t.firstString,i="-"+t.secondString;return e=P.initialize(e,n.length,i.length,1),e[0][0].isPath=!0,e=function(t,e,n){for(let i=1;i<e.length;i++)for(let r=1;r<n.length;r++){let a=t[i][r-1].value+1,s=t[i-1][r].value+1,l=0;l=e[i]===n[r]?t[i-1][r-1].value:t[i-1][r-1].value+1;let c=a;s<c&&(c=s),l<c&&(c=l),t[i].push({value:c,left:a===c,top:s===c,diag:l===c})}return t}(e,n,i),e=P.traceback(e,n,i),e},defaultForm:{disableWeights:!0,matchWeight:0,mismatchWeight:1,gapWeight:1}},{label:"Needleman-Wunsch",calculate:function(t){let e=[],n="-"+t.firstString,i="-"+t.secondString;return e=P.initialize(e,n.length,i.length,t.gapWeight),e[0][0].isPath=!0,e=function(t,e,n,i){for(let r=1;r<e.length;r++)for(let a=1;a<n.length;a++){let s=i.gapWeight+t[r][a-1].value,l=i.gapWeight+t[r-1][a].value,c=0;c=e[r]===n[a]?i.matchWeight+t[r-1][a-1].value:i.mismatchWeight+t[r-1][a-1].value;let o=s;l>o&&(o=l),c>o&&(o=c),t[r].push({value:o,left:o===s,top:o===l,diag:o===c})}return t}(e,n,i,t),e=P.traceback(e,n,i),e},defaultForm:{disableWeights:!1,matchWeight:1,mismatchWeight:-1,gapWeight:-1}},{label:"Longest Common Subsequence",calculate:function(t){let e=[],n="-"+t.firstString,i="-"+t.secondString;e=P.initializeWithZero(e,n.length,i.length);let r=function(t,e,n){let i=0;for(let r=1;r<e.length;r++)for(let a=1;a<n.length;a++){let s=t[r][a-1].value,l=t[r-1][a].value,c=0;c=e[r]===n[a]?t[r-1][a-1].value+1:t[r-1][a-1].value;let o=s;l>o&&(o=l),c>o&&(o=c),o>i&&(i=o),t[r].push({value:o,left:0!==o&&o===s,top:0!==o&&o===l,diag:0!==o&&o===c})}return{table:t,tableMax:i}}(e,n,i);return e=r.table,e=function(t,e,n,i){let{row:r,col:a}=P.findMaxIndex(t,e,n,i);return P.tracebackToZero(t,r,a),t}(e,r.tableMax),e},defaultForm:{disableWeights:!0,matchWeight:0,mismatchWeight:0,gapWeight:0}},{label:"Smith-Waterman",calculate:function(t){let e=[],n="-"+t.firstString,i="-"+t.secondString;e=P.initializeWithZero(e,n.length,i.length);let r=function(t,e,n,i){let r=0;for(let a=1;a<e.length;a++)for(let s=1;s<n.length;s++){let l=i.gapWeight+t[a][s-1].value,c=i.gapWeight+t[a-1][s].value,o=0;o=e[a]===n[s]?i.matchWeight+t[a-1][s-1].value:i.mismatchWeight+t[a-1][s-1].value;let h=l;c>h&&(h=c),o>h&&(h=o),h<0&&(h=0),h>r&&(r=h),t[a].push({value:h,left:l===h&&0!==l,top:c===h&&0!==c,diag:o===h&&0!==o})}return{table:t,tableMax:r}}(e,n,i,t);return e=r.table,e=function(t,e,n,i){let{row:r,col:a}=P.findMaxIndex(t,e,n,i);return P.tracebackToZero(t,r,a),t}(e,r.tableMax),e},defaultForm:{disableWeights:!1,matchWeight:1,mismatchWeight:-1,gapWeight:-1}}]};var z=T;const N=z.algorithms[0],Z=Object(m.a)({algorithm:0,firstString:"ATTACTC",secondString:"ATATGTC"},N.defaultForm),G=N.calculate(Z),L={form:Z,solution:G,stringsMatch:z.stringsMatch(Z,G)},B=Object(I.b)({name:"counter",initialState:L,reducers:{setAlgorithm:(t,e)=>{t.form.algorithm=e.payload;const n=z.algorithms[t.form.algorithm];t.form=Object.assign(t.form,n.defaultForm),t=_(t)},setFirstString:(t,e)=>{t.form.firstString=e.payload,t=_(t)},setSecondString:(t,e)=>{t.form.secondString=e.payload,t=_(t)},setMatchWeight:(t,e)=>{t.form.matchWeight=e.payload,t=_(t)},setMismatchWeight:(t,e)=>{t.form.mismatchWeight=e.payload,t=_(t)},setGapWeight:(t,e)=>{t.form.gapWeight=e.payload,t=_(t)}}});function _(t){const e=z.algorithms[t.form.algorithm];return t.solution=e.calculate(t.form),t.stringsMatch=z.stringsMatch(t.form,t.solution),t}const{setAlgorithm:E,setFirstString:R,setSecondString:J,setMatchWeight:U,setMismatchWeight:q,setGapWeight:D}=B.actions;var H=B.reducer,K=n(29),Q=n(228);function V(){const t=Object(K.b)(),e=Object(K.c)(t=>t.app.form),n=Object(K.c)(t=>t.app.solution);return Object(f.jsxs)(c.a,{sx:tt.container,children:[Y(e,t),X(e,n)]})}function X(t,e){let n=[],i="-"+t.firstString;for(let r=0;r<i.length;r++){let t=[];t.push($(i[r],"left"+r,!1));for(let n=0;n<e[r].length;n++)t.push(Object(f.jsx)(c.a,{children:Object(f.jsx)(M,{cell:e[r][n]})},n));n.push(Object(f.jsx)(c.a,{sx:tt.row,children:t},r))}return n}function Y(t,e){let n=[];n.push(function(t,e){return Object(f.jsx)(c.a,{children:Object(f.jsx)(j,{backgroundColor:Q.a.A200,children:Object(f.jsx)(o.a,{"data-testid":"shuffle-button",onClick:()=>{const n=t.firstString;e(R(t.secondString)),e(J(n))},size:"large",children:Object(f.jsx)(u.a,{})})})},"switchButton")}(t,e)),n.push($("-","top empty",!1));for(let i=0;i<t.secondString.length;i++)n.push($(t.secondString[i],"top"+i,!1));return Object(f.jsx)(c.a,{sx:tt.row,children:n},"top")}function $(t,e,n){const i={};return n&&(i.visibility="hidden"),Object(f.jsx)(c.a,{sx:i,children:Object(f.jsx)(p,{letter:t})},e)}const tt={container:{overflow:"auto"},row:{display:"flex",width:"fit-content",margin:"auto"}};var et=n(245),nt=n(234),it=n(124),rt=n.n(it),at=n(123),st=n.n(at);const lt=Object(f.jsx)(et.a,{underline:"none",target:"_blank",href:"https://mui.com",children:"MUI"}),ct=Object(f.jsx)(et.a,{underline:"none",target:"_blank",href:"https://reactjs.org/",children:"React.js"}),ot=Object(f.jsx)(et.a,{underline:"none",display:"inline",color:"red",children:"\u2665"});function ht(){return Object(f.jsx)(b.a,{elevation:4,children:Object(f.jsxs)(l.a,{container:!0,sx:bt.container,children:[Object(f.jsx)(l.a,{item:!0,lg:4,xs:0}),Object(f.jsx)(l.a,{item:!0,lg:4,xs:12,sx:bt.center,children:Object(f.jsxs)(g.a,{sx:bt.text,children:["Made with ",ot," using ",ct," and ",lt]})}),Object(f.jsxs)(l.a,{item:!0,lg:4,xs:12,sx:dt,children:[Object(f.jsx)(nt.a,{title:"Report a bug",children:Object(f.jsx)(o.a,{onClick:ut,children:Object(f.jsx)(st.a,{})})}),Object(f.jsx)(nt.a,{title:"Source code",children:Object(f.jsx)(o.a,{onClick:gt,children:Object(f.jsx)(rt.a,{})})})]})]})})}function ut(t){window.open("https://github.com/francescopastore/bio-align/issues/new","_blank")}function gt(t){window.open("https://github.com/francescopastore/bio-align","_blank")}const dt=t=>({[t.breakpoints.down("lg")]:{textAlign:"center",mt:3},[t.breakpoints.up("lg")]:{textAlign:"right"}}),bt={container:{p:4,alignItems:"center"},icon:{cursor:"pointer",height:"100%",ml:2},center:{textAlign:"center"}};function ft(){return Object(f.jsx)(c.a,{sx:jt.container,children:Object(f.jsx)("img",{style:jt.banner,src:"/bio-align/header.png",alt:"header"})})}const jt={container:{margin:"auto",maxWidth:"350px",mb:1},banner:{width:"100%"}};var xt=n(239),pt=n(238),mt=n(249),Ot=n(235),St=n(250),vt=n(125),Wt=n.n(vt);function wt(t){const[e,n]=i.useState(t.default),r=t.options.map((t,e)=>Object(f.jsx)(pt.a,{value:e,children:t.label},e));return Object(f.jsxs)(mt.a,{fullWidth:!0,margin:"normal",children:[Object(f.jsx)(xt.a,{id:"algorithm-label",children:"Algorithm"}),Object(f.jsx)(Ot.a,{labelId:"algorithm-label",id:"algorithm",label:"Algorithm",value:e,onChange:e=>{const i=e.target.value;n(i),t.handle(i)},"data-testid":"value-input",startAdornment:Object(f.jsx)(St.a,{position:"start",children:Object(f.jsx)(Wt.a,{})}),children:r})]})}var yt=n(240),kt=n(126),Ct=n.n(kt),Mt=n(127),At=n.n(Mt);function Ft(t){const[e,n]=i.useState(t.default);i.useEffect(()=>{n(t.default)},[t.default]);const r=e=>{n(e),a(e)||t.handle(e)},a=t=>t.length>8;return Object(f.jsx)(mt.a,{fullWidth:!0,margin:"normal",children:Object(f.jsx)(yt.a,{onChange:t=>{const e=t.target.value.toUpperCase();r(e)},label:t.label,value:e,variant:"outlined",error:a(e),helperText:a(e)?"Max 8 alphabetic characters":"","data-testid":"value-input",InputProps:{startAdornment:Object(f.jsx)(St.a,{position:"start",children:Object(f.jsx)(Ct.a,{})}),endAdornment:Object(f.jsx)(St.a,{position:"end",children:Object(f.jsx)(o.a,{"data-testid":"shuffle-button",onClick:()=>{let t=function(t,e){let n="",i=t+Math.round(Math.random()*(e-t));for(let r=0;r<i;r++){switch(Math.round(3*Math.random())){default:n+="A";break;case 1:n+="C";break;case 2:n+="G";break;case 3:n+="T"}}return n}(4,8);r(t)},children:Object(f.jsx)(At.a,{})})})}})})}var It=n(128),Pt=n.n(It);function Tt(t){const[e,n]=i.useState(t.default);i.useEffect(()=>{n(t.default)},[t.default]);const r=t=>isNaN(parseInt(t))&&"-"!==t||t<-10||t>10;return Object(f.jsx)(mt.a,{margin:"normal",sx:t.style,children:Object(f.jsx)(yt.a,{disabled:t.disabled,onChange:e=>{const i=e.target.value;n(i),r(i)||isNaN(i)||t.handle(parseInt(i))},label:t.label,value:e,error:r(e),helperText:(r(e),""),variant:"outlined","data-testid":"value-input",InputProps:{startAdornment:Object(f.jsx)(St.a,{position:"start",children:Object(f.jsx)(Pt.a,{})})}})})}function zt(){const t=Object(K.b)(),e=Object(K.c)(t=>t.app.form);return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(wt,{options:z.algorithms,default:0,handle:e=>t(E(e))}),Object(f.jsx)(Ft,{label:"First string",default:e.firstString,handle:e=>t(R(e))}),Object(f.jsx)(Ft,{label:"Second string",default:e.secondString,handle:e=>t(J(e))}),Object(f.jsxs)(c.a,{sx:{display:"flex",justifyContent:"space-around"},children:[Object(f.jsx)(Tt,{label:"Match",default:e.matchWeight,handle:e=>t(U(e)),disabled:e.disableWeights,style:{mr:2}}),Object(f.jsx)(Tt,{label:"Mismatch",default:e.mismatchWeight,handle:e=>t(q(e)),disabled:e.disableWeights,style:{mr:2}}),Object(f.jsx)(Tt,{label:"Gap",default:e.gapWeight,handle:e=>t(D(e)),disabled:e.disableWeights})]}),Object(f.jsx)(g.a,{variant:"caption",children:"Only weights between -10 and 10 are allowed"})]})}var Nt=n(49),Zt=n(50);const Gt=Nt.a.A700,Lt=Zt.a.A700,Bt=Q.a.A700;function _t(){const t=Object(K.c)(t=>t.app.stringsMatch),{firstString:e,secondString:n}=function(t){const e=[],n=[];for(let i=0;i<t.firstString.length;i++)if(t.firstString[i]===t.secondString[i]){const r=Et(t.firstString[i],Lt,i);e.push(r),n.push(r)}else if("-"===t.firstString[i]){const r=Et(t.secondString[i],Bt,i),a=Et("-",Bt,i);e.push(a),n.push(r)}else if("-"===t.secondString[i]){const r=Et(t.firstString[i],Bt,i),a=Et("-",Bt,i);e.push(r),n.push(a)}else e.push(Et(t.firstString[i],Gt,i)),n.push(Et(t.secondString[i],Gt,i));return{firstString:e,secondString:n}}(t);return Object(f.jsxs)(l.a,{container:!0,spacing:0,sx:Rt.container,children:[Object(f.jsxs)(l.a,{container:!0,item:!0,spacing:0,xs:10,children:[Object(f.jsx)(l.a,{container:!0,item:!0,spacing:0,sx:Rt.centered,children:e}),Object(f.jsx)(l.a,{container:!0,item:!0,spacing:0,sx:Rt.centered,children:n})]}),Object(f.jsx)(l.a,{item:!0,sx:Rt.centered,xs:2,children:Object(f.jsx)(g.a,{sx:Rt.score,children:t.score})})]})}function Et(t,e,n){return Object(f.jsx)(l.a,{item:!0,children:Object(f.jsx)(g.a,{color:e,sx:Rt.letter,children:t})},n)}const Rt={container:{p:3,mt:3},letter:{fontSize:"1.5em",letterSpacing:"0.5em",fontFamily:"Courier New"},score:{fontSize:"1.5em",fontFamily:"Courier New"},centered:{display:"flex",alignItems:"center",justifyContent:"center"}};function Jt(){return Object(f.jsxs)(b.a,{sx:Ut.container,elevation:4,children:[Object(f.jsx)(ft,{}),Object(f.jsx)(zt,{}),Object(f.jsx)(_t,{})]})}const Ut={container:{maxWidth:"500px",margin:"auto",p:3}};function qt(){return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)(l.a,{container:!0,spacing:2,sx:Dt.container,children:[Object(f.jsx)(l.a,{item:!0,xs:12,lg:5,sx:Dt.form,children:Object(f.jsx)(Jt,{})}),Object(f.jsx)(l.a,{item:!0,xs:12,lg:7,sx:Dt.table,children:Object(f.jsx)(V,{})})]}),Object(f.jsx)(c.a,{sx:Dt.footer,children:Object(f.jsx)(ht,{})})]})}const Dt={container:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",py:3},footer:{paddingBottom:"3vh",paddingLeft:"2vw",paddingRight:"2vw"}};var Ht=t=>{t&&t instanceof Function&&n.e(3).then(n.bind(null,253)).then(e=>{let{getCLS:n,getFID:i,getFCP:r,getLCP:a,getTTFB:s}=e;n(t),i(t),r(t),a(t),s(t)})};const Kt=Object(I.a)({reducer:{app:H}});var Qt=n(129),Vt=n(237);const Xt=Object(Qt.a)({});s.a.render(Object(f.jsx)(r.a.StrictMode,{children:Object(f.jsx)(Vt.a,{theme:Xt,children:Object(f.jsx)(K.a,{store:Kt,children:Object(f.jsx)(qt,{})})})}),document.getElementById("root")),Ht()}},[[166,1,2]]]);
//# sourceMappingURL=main.692f1014.chunk.js.map